---
documentclass: ctexart
pdfengine: xelatex
geometry: 
  - top=1.0in
  - bottom=1.0in
  - left=0.8in
  - right=0.8in
  - heightrounded
---

# 5.5 模拟赛

## A 失忆的诸国

### 题目描述

珐露珊又被一句古文字难住了。

这是一段从赤王遗迹中发掘出来的文字，其中有些地方已经残破了。这段文字用的语言并非提瓦特通用语，而是十六进制形式。不过幸运的是，珐露珊已经知道了这种文字的破译方法：

1. 珐露珊会给你一个整数 $e_0$，$e_0 \in [0,256)$
2. 将这个十六进制串两位两位切开，然后转成整数，第 $i$ 个整数记做 $e_i$
3. 解码后的第 $i$ 位 $d_i = e_i \ \mathrm{xor}\  e_{i-1}$

其中 $\mathrm{xor}$ 表示**按位异或**。

然而，珐露珊前辈已经很疲倦了，于是给了你 $e_0$ 和要破译的字符串，请你帮她破解。

### 输入格式

第一行一个整数 $e_0$

第二行一个字符串 $s$，表示要破译的串。保证长度为偶数。保证只含有数字和 `A-F` 的大写字母。保证解码后只包含大小写英文字母和数字。

### 输出格式

一行一个字符串，表示破译完的内容。

### 输入输出样例 #1

#### 输入 #1

```plaintext
15
6E0C6F
```

#### 输出 #1

```plaintext
abc
```

### 输入输出样例 #2

#### 输入 #2

```plaintext
137
D0BFD6BBD2ABCAEBCAEB
```

#### 输出 #2

```plaintext
Yoimiya!!!
```

### 说明/提示

#### 样例解释

$e_0 = 15 = \mathrm{0x0F},\  e_1=\mathrm{0x6E},\  d_1=e_0\ \mathrm{xor}\ e_1=\mathrm{0x61}=97$，对应字母 `a`

$e_1=\mathrm{0x6E},\ e_2=\mathrm{0x0C},\ d_2=e_1\ \mathrm{xor}\ e_2=\mathrm{0x62}=98$，对应字母`b`

#### 数据范围

$|s| \leq 10^5$

## B 元素共鸣矩阵

### 题目描述

在「渊下宫」的古代遗迹中，旅行者发现两组元素阵：  

- **阳阵** $a_1, a_2, \dots, a_n$
- **阴阵** $b_1, b_2, \dots, b_n$

当存在共鸣常数 $x$ 使得 $\forall i,\ a_i + b_i = x$ 时，两矩阵将触发反应，打开通往隐藏秘宝的通道。然而，阴阵的部分晶石被某个差点被打死的深渊使徒破坏了，这些晶石标记为 $-1$。旅行者需要用能量值不超过 $k$ 的新晶石修复，使得两组晶石可以发生共鸣。请计算所有可能的修复方案数。

形式化地说，给定两组序列 $\{a_i\},\ \{b_i\}$ ，其中 $b_i$ 有一部分元素为 $-1$ ，你需要将这些为 $-1$ 的元素改为不大于 $k$ 的非负整数，使得：$\forall i,\ a_i + b_i = x$ 。

### 输入格式

第一行输入测试案例数 $t$ ($1 \le t \le 10^4$)。  

每组案例包含：  

1. 两个整数 $n$（矩阵阶数）和 $k$（晶石能量上限），满足 $1 \le n \le 2 \times 10^5$, $0 \le k \le 10^9$  
2. 第二行 $n$ 个整数 $a_1, a_2, \dots, a_n$ ($0 \le a_i \le k$)  
3. 第三行 $n$ 个整数 $b_1, b_2, \dots, b_n$ ($-1 \le b_i \le k$，$-1$ 表示破损晶石)  

保证所有案例的 $n$ 总和不超过 $2 \times 10^5$。  

### 输出格式

对于每组测试数据，输出一行一个正整数，表示所有可能方案总数。

### 输入输出样例 #1

#### 输入 #1

```plaintext
7
3 10
1 3 2
-1 -1 1
5 1
0 1 0 0 1
-1 0 1 0 -1
5 1
0 1 0 0 1
-1 1 -1 1 -1
5 10
1 3 2 5 4
-1 -1 -1 -1 -1
5 4
1 3 2 1 3
1 -1 -1 1 -1
5 4
1 3 2 1 3
2 -1 -1 2 0
5 5
5 0 5 4 3
5 -1 -1 -1 -1
```

#### 输出 #1

```plaintext
1
0
0
7
0
1
0
```

## C 此夕星游

### 题目描述

梨多梵谛学院的学生莱伊拉正在为新的一篇论文而发愁。

莱伊拉主修星相学，这篇论文便和一种奇特的星象有关。星空中一共有 $n$ 颗星星，每颗星星都有一个亮度 $v_i$ 。十分神奇的是，这 $n$ 颗星星按顺序排成了一排。在莱伊拉的研究中，需要从这 $n$ 颗星星里按顺序挑出 $m$ 颗（可以不连续），并且这些星星亮度依次严格增大。为了方便研究，她需要从中挑出最长的一串星星。然而，由于她已经三天没有合眼了，于是只好把这个问题交给旅行者，请你帮她解决了。

### 输入格式

第一行一个正整数 $n$，表示星星的个数

第二行 $n$ 个正整数，依次表示每颗星星的亮度

### 输出格式

一行一个正整数，表示 $m$ 的最大值

### 输入输出样例 #1

#### 输入 #1

```plaintext
8
1 2 4 7 4 5 6 8
```

#### 输出 #1

```plaintext
6
```

### 说明/提示

#### 样例解释

选择 `1 2 4 5 6 8`，显然此时 $m$ 最大。

#### 提示

定义一个数组 `f`，使得 `f[i]` 表示以第 `i` 位结尾的最大长度。

然后通过枚举（60%数据）或二分（100%数据）找到 `f[i]` 可以从哪一位的长度转移得到。

#### 数据范围

对于 $60\%$ 的数据，$n\leq 3000$

对于 $100\%$ 的数据，$n\leq 10^5$

## D. 千壑沙地的试炼

### 题目描述

在千壑沙地中，有一处秘境，旅行者需要激活 $m$ 座古代元素方碑以解除封印。每座方碑的激活顺序必须严格满足条件：第 $i$ 个激活的方碑需要注入至少 $b_i$ 单位的元素能量。  

秘境中散落着 $n$ 块天然元素晶石，其能量值序列为 $a_1, a_2, \dots, a_n$。旅行者将按晶石排列顺序选择是否采集。但派蒙发现，现有晶石可能无法满足所有方碑的激活需求。  

作为应急方案，旅行者可以发动一次「元素共鸣」——生成一枚能量值为 $k$ 的**人造元素晶核**，并将其插入晶石序列的任意位置（只能使用一次）。为避免元素紊乱，必须最小化 $k$ 的值。

你的任务是，计算旅行者需要生成的人造晶核的最小能量值 $k$。若无需生成即可激活所有方碑，输出 $0$ ；若即使生成晶核仍无法满足条件，输出 $-1$。

### 输入格式

第一行输入秘境试炼次数 $t$ ($1 \le t \le 10^4$)。  

每组试炼包含：  

1. 两个整数 $n$（晶石总数）和 $m$（需激活方碑数），满足 $1 \le m \le n \le 2 \times 10^5$  
2. 第二行 $n$ 个整数 $a_1, a_2, \dots, a_n$ ($1 \le a_i \le 10^9$)，表示天然晶石能量  
3. 第三行 $m$ 个整数 $b_1, b_2, \dots, b_m$ ($1 \le b_i \le 10^9$)，表示方碑激活需求  

保证所有试炼的 $n$ 总和不超过 $2 \times 10^5$。

### 输出格式

对每组数据，输出一行一个整数：  

- 最小可能的 $k$（若需生成晶核）  
- $0$（若无需生成）  
- $-1$（若无法完成）  

### 输入输出样例 #1

#### 输入 #1

```plaintext
7
9 5
3 5 2 3 3 5 8 1 2
4 6 2 4 6
6 3
1 2 6 8 2 1
5 4 3
5 3
4 3 5 4 3
7 4 5
6 3
8 4 2 1 2 5
6 1 4
5 5
1 2 3 4 5
5 4 3 2 1
6 3
1 2 3 4 5 6
9 8 7
5 5
7 7 6 7 7
7 7 7 7 7
```

#### 输出 #1

```plaintext
6
3
7
0
-1
-1
7
```
